<div class="container" *ngIf="ready">
    <div class="row">
        <div class="col-sm-4">
            <h4>{{pageTitle}}</h4>
        </div>
        <div class="col-sm-4 text-center">
            Auto advance:
            <div class="btn-group" role="group">
                <button type="button" class="btn btn-default"
                        [class.active]="autoAdvance"
                        (click)="autoAdvance=true">
                    On
                </button>
                <button type="button" class="btn btn-default"
                        [class.active]="!autoAdvance"
                        (click)="autoAdvance=false">
                    Off
                </button>
            </div>
        </div>
        <div class="col-sm-4 text-right">
            Crash report viewer:
            <div class="btn-group" role="group">
                <button type="button" class="btn btn-default"
                        [class.active]="showReportViewer"
                        (click)="showReportViewer=true">
                    On
                </button>
                <button type="button" class="btn btn-default"
                        [class.active]="!showReportViewer"
                        (click)="showReportViewer=false">
                    Off
                </button>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col-sm-12">
            Crash Report #{{hsmvReportNumber}}
        </div>
    </div>

    <div class="pbcat-alert alert alert-dismissible"
         [class.hidden]="!alertVisible"
         [class.alert-success]="alertType===AlertType.Success"
         [class.alert-info]="alertType===AlertType.Info"
         [class.alert-warning]="alertType===AlertType.Warning"
         [class.alert-danger]="alertType===AlertType.Danger">
        <button type="button" class="close" (click)="dismissAlert()"><span>&times;</span></button>
        <strong>{{alertHeading}}</strong> {{alertMessage}}
    </div>

    <pbcat-step *ngIf="!showSummary"
                [hsmvReportNumber]="hsmvReportNumber"
                [stepNumber]="currentStepNumber"
                [step]="currentStep"
                (selectItem)="selectItem($event)">
    </pbcat-step>

    <pbcat-summary *ngIf="showSummary"
                   [hsmvReportNumber]="hsmvReportNumber"
                   [stepHistory]="stepHistory"
                   [crashType]="crashType"
                   [isSaved]="isSaved"
                   (jumpBackToStep)="jumpBackToStep($event)">
    </pbcat-summary>

    <div class="row">
        <div class="col-sm-12">
            <nav>
                <ul class="pager">
                    <li class="previous" *ngIf="canGoBack" [class.disabled]="isSaved">
                        <a *ngIf="!isSaved" [routerLink]="backLinkRoute">&larr; Back to <em>{{backLinkText}}</em></a>
                        <a *ngIf="isSaved" href="javascript:void(0);">&larr; Back to <em>{{backLinkText}}</em></a>
                    </li>
                    <li *ngIf="canReturnToSummary">
                        <a [routerLink]="summaryRoute">Return to Summary</a>
                    </li>
                    <li class="next" *ngIf="canProceed">
                        <a [routerLink]="proceedLinkRoute">Proceed to <em>{{proceedLinkText}}</em> &rarr;</a>
                    </li>
                    <li [class.disabled]="!nextCrashExists" class="next" *ngIf="showSummary">
                        <a *ngIf="nextCrashExists" [routerLink]="advanceToNextRoute">Next Crash&rarr;</a>
                        <a *ngIf="!nextCrashExists" href="javascript:void(0)">Next Crash&rarr;</a>
                    </li>
                    <li [class.disabled]="isSaved" class="next" *ngIf="showSummary">
                        <a href="javascript:void(0);" (click)="acceptAndSave()">Accept and Save</a>
                    </li>
                </ul>
            </nav>
        </div>
    </div>
</div>
