
<form name="actionForm" #actionForm="ngForm"  (ngSubmit)="submit()" #spy2>
    <div class="font-weight-bold">Request #{{state.selectedRequest.requestNbr}} on {{state.selectedRequest.requestDt|date: 'M/d/yy'}}
    </div>
    <div class="modal-body">
        <new-employee-component *ngIf="newUserRequestMatch(newUserRequestStatus.NewUser)" ></new-employee-component>
        <new-agency-component *ngIf="newUserRequestMatch(newUserRequestStatus.NewAgency)" ></new-agency-component>
        <agency-create-component *ngIf="newUserRequestMatch(newUserRequestStatus.CreateAgency)"></agency-create-component>
        <new-vendor-component *ngIf="newUserRequestMatch(newUserRequestStatus.NewVendor)"> </new-vendor-component>
        <new-consultant-component *ngIf="newUserRequestMatch(newUserRequestStatus.NewConsultant)"></new-consultant-component>
        <hr />
        <div class="row font-weight-bold justify-content-center">
            <div class="col-6">
                <label for="approve">
                    <input type="radio" class="form-check-input"
                           id="approve"
                           [(ngModel)]="state.currentRequestActionResults.approved"
                           name="approved"
                           (change)="approved(true)"
                           required
                           [value]="true" />
                    &nbsp;Approve {{state.selectedRequest.requestStatus | approveRejectType}}
                </label>
            </div>
            <div class="col-5">
                <label for="reject">
                    <input type="radio" class="form-check-input"
                           id="reject"
                           [(ngModel)]="state.currentRequestActionResults.approved"
                           name="approved"
                           (change)="approved(false)"
                           required
                           [value]="false" />
                    &nbsp;Reject {{state.selectedRequest.requestStatus | approveRejectType}}
                </label>
            </div>
        </div>
        <div [hidden]="hideReportAccessCb()">
            <label for="rptAccess">
                <input type="checkbox" name="reportAcessCb"
                       id="rptAccess"
                       [(ngModel)]="state.currentRequestActionResults.accessBefore70Days"
                       [readonly]="state.currentRequestActionResults.approved"
                       [value]="true" />
                &nbsp; Access Before 70 days
            </label>
        </div>
        <div class="row" [hidden]="hideReasonTextArea()">
            <label class="font-weight-bold">Reason for rejection (to be sent to person making request):</label>
            <textarea class="form-control" id="reason" rows="3" name="reason"
                      [readonly]="state.currentRequestActionResults.approved"
                      [required]="!state.currentRequestActionResults.approved"
                      [(ngModel)]="state.currentRequestActionResults.rejectionReason"
                      placeholder="Type reason for rejection here (REQUIRED)">
            </textarea>
        </div>
    </div>

    <div class="modal-footer">
        <button type="submit" class="btn btn-primary" [disabled]="!(actionForm.valid) || disableOKButton()">
            OK
        </button>
        <button type="button" class="btn btn-secondary" (click)="cancel()">
            Cancel
        </button>
    </div>
  </form>
