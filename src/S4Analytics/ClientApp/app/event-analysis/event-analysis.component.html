<section class="event-analysis-grid">
    <div class="filters">filters
        <filter filterName="S4 Filter" [nodes]="data" checkMode="multiple"></filter>


    </div>
    <div class="filter-controls">filter controls</div>
    <div class="scope">
        Date/Time
        <a href="javascript:void(0)" (click)="dateTimeModal.open()">
            <span class="badge badge-secondary">
                {{dateTimeLabel}}
                <span class="fa fa-caret-down"></span>
            </span>
        </a>
        Place
        <a href="javascript:void(0)" (click)="placeModal.open()">
            <span class="badge badge-secondary">
                {{placeLabel}}
                <span class="fa fa-caret-down"></span>
            </span>
        </a>
    </div>
    <div class="map-controls">
        Total: {{totalCount}} / Mapped: {{mappedCount}} / Unmapped: {{unmappedCount}}
    </div>
    <div class="map" id="mapArea">
        <event-map mapId="eventMap"></event-map>
    </div>
    <kendo-grid [class]="['attributes']"
                [data]="state.crashGridData"
                [pageSize]="state.gridPageSize"
                [scrollable]="'virtual'"
                [skip]="state.crashGridSkip"
                [pageable]="true"
                [rowHeight]="35"
                (pageChange)="pageChange($event)">
        <kendo-grid-column field="id" title="Id"></kendo-grid-column>
        <kendo-grid-column field="hsmvReportNumber" title="Report Number"></kendo-grid-column>
        <kendo-grid-column field="crashDate" title="Date"></kendo-grid-column>
        <kendo-grid-column field="crashTime" title="Time"></kendo-grid-column>
        <kendo-grid-column field="agncyNm" title="Agency Name"></kendo-grid-column>
    </kendo-grid>
    <div class="attribute-controls">attribute controls</div>
</section>

<date-time-modal #dateTimeModal
                 [scope]="state.dateTimeScope"
                 (apply)="applyDateTimeScope($event)"></date-time-modal>

<place-modal #placeModal
                 [scope]="state.placeScope"
                 (apply)="applyPlaceScope($event)"></place-modal>
